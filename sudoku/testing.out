# ETHAN CHEN, BANSHAREE IREEN, JEFFREY JIANG
# testing.sh - integration testing for sudoku module

touch ../tables/easyTable.txt
touch ../tables/hardTable.txt
touch ../tables/valgrindTable.txt


# VALID TESTS
./sudoku create easy > ../tables/easyTable.txt

./sudoku create hard > ../tables/hardTable.txt

./sudoku solve easy < ../tables/easyTable.txt
Original Board: 
-------------------------
| 2 3 0 | 0 0 0 | 0 0 0 | 
| 8 9 6 | 0 0 5 | 0 0 2 | 
| 0 7 0 | 3 2 6 | 0 0 0 | 
-------------------------
| 3 0 9 | 0 8 1 | 0 0 7 | 
| 7 0 0 | 0 6 0 | 5 0 4 | 
| 5 0 0 | 0 3 0 | 1 9 0 | 
-------------------------
| 0 0 0 | 1 0 8 | 0 2 3 | 
| 6 0 0 | 0 5 9 | 4 7 1 | 
| 0 0 4 | 0 7 0 | 8 0 0 | 
-------------------------
Solved: 
-------------------------
| 2 3 5 | 8 9 4 | 7 1 6 | 
| 8 9 6 | 7 1 5 | 3 4 2 | 
| 4 7 1 | 3 2 6 | 9 8 5 | 
-------------------------
| 3 4 9 | 5 8 1 | 2 6 7 | 
| 7 1 8 | 9 6 2 | 5 3 4 | 
| 5 6 2 | 4 3 7 | 1 9 8 | 
-------------------------
| 9 5 7 | 1 4 8 | 6 2 3 | 
| 6 8 3 | 2 5 9 | 4 7 1 | 
| 1 2 4 | 6 7 3 | 8 5 9 | 
-------------------------

./sudoku solve hard < ../tables/easyTable.txt
Original Board: 
-------------------------
| 2 3 0 | 0 0 0 | 0 0 0 | 
| 8 9 6 | 0 0 5 | 0 0 2 | 
| 0 7 0 | 3 2 6 | 0 0 0 | 
-------------------------
| 3 0 9 | 0 8 1 | 0 0 7 | 
| 7 0 0 | 0 6 0 | 5 0 4 | 
| 5 0 0 | 0 3 0 | 1 9 0 | 
-------------------------
| 0 0 0 | 1 0 8 | 0 2 3 | 
| 6 0 0 | 0 5 9 | 4 7 1 | 
| 0 0 4 | 0 7 0 | 8 0 0 | 
-------------------------
Solved: 
-------------------------
| 2 3 5 | 8 9 4 | 7 1 6 | 
| 8 9 6 | 7 1 5 | 3 4 2 | 
| 4 7 1 | 3 2 6 | 9 8 5 | 
-------------------------
| 3 4 9 | 5 8 1 | 2 6 7 | 
| 7 1 8 | 9 6 2 | 5 3 4 | 
| 5 6 2 | 4 3 7 | 1 9 8 | 
-------------------------
| 9 5 7 | 1 4 8 | 6 2 3 | 
| 6 8 3 | 2 5 9 | 4 7 1 | 
| 1 2 4 | 6 7 3 | 8 5 9 | 
-------------------------


# INVALID INPUTS
./sudoku wrong easy
Please select a valid mode: create or solve.

./sudoku create wrong
Please select a valid level of difficulty: easy or hard.

./sudoku create easy tooManyArgs
Incorrect number of arguments. Usage: ./sudoku mode difficulty


# SOLVABILITY
./sudoku solve easy < ../tables/unsolvableTable
testing.sh: line 28: ../tables/unsolvableTable: No such file or directory

# VALGRIND TESTS
valgrind --leak-check=full --show-leak-kinds=all ./sudoku create easy > ../tables/valgrindTable.txt
==26198== Memcheck, a memory error detector
==26198== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==26198== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info
==26198== Command: ./sudoku create easy
==26198== 
==26198== 
==26198== HEAP SUMMARY:
==26198==     in use at exit: 0 bytes in 0 blocks
==26198==   total heap usage: 67,236 allocs, 67,236 frees, 1,792,068 bytes allocated
==26198== 
==26198== All heap blocks were freed -- no leaks are possible
==26198== 
==26198== For counts of detected and suppressed errors, rerun with: -v
==26198== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)

valgrind --leak-check=full --show-leak-kinds=all ./sudoku solve easy < ../tables/valgrindTable.txt
==26213== Memcheck, a memory error detector
==26213== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==26213== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info
==26213== Command: ./sudoku solve easy
==26213== 
Original Board: 
-------------------------
| 0 0 0 | 0 0 0 | 0 0 0 | 
| 3 0 0 | 8 9 0 | 5 0 0 | 
| 5 0 0 | 1 6 3 | 0 9 0 | 
-------------------------
| 4 7 3 | 0 0 1 | 0 0 9 | 
| 9 6 0 | 7 0 8 | 1 0 0 | 
| 1 0 0 | 0 4 0 | 2 0 7 | 
-------------------------
| 7 5 0 | 3 8 0 | 4 2 6 | 
| 0 3 0 | 0 7 4 | 0 0 5 | 
| 0 0 0 | 2 0 5 | 0 0 8 | 
-------------------------
Solved: 
-------------------------
| 8 1 9 | 4 5 2 | 7 6 3 | 
| 3 2 6 | 8 9 7 | 5 4 1 | 
| 5 4 7 | 1 6 3 | 8 9 2 | 
-------------------------
| 4 7 3 | 5 2 1 | 6 8 9 | 
| 9 6 2 | 7 3 8 | 1 5 4 | 
| 1 8 5 | 9 4 6 | 2 3 7 | 
-------------------------
| 7 5 1 | 3 8 9 | 4 2 6 | 
| 2 3 8 | 6 7 4 | 9 1 5 | 
| 6 9 4 | 2 1 5 | 3 7 8 | 
-------------------------
==26213== 
==26213== HEAP SUMMARY:
==26213==     in use at exit: 0 bytes in 0 blocks
==26213==   total heap usage: 47 allocs, 47 frees, 17,338 bytes allocated
==26213== 
==26213== All heap blocks were freed -- no leaks are possible
==26213== 
==26213== For counts of detected and suppressed errors, rerun with: -v
==26213== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)



